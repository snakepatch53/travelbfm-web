import{r,j as e,P,t as v,k as t,y as I,v as O,w as D,C as w}from"./index-DSXsjQfW.js";import{u as F,C as M,a as q,h as R,c as n,d as U,e as V,f as a,g as _}from"./useCrudPanel-BnfChyCa.js";import{C as G}from"./CrudBackground-CIVg33FB.js";import{a as H,b as L,c as W,e as $,g as z,C as A,M as J}from"./ModalProducts-B3t8oLRG.js";import"./validations-R_Xd7w2Q.js";function ee(){const{entityName:d,pluralEntityName:c,head:u,table:x,form:p,confirm:C,progress:m,datalist:j,$form:g,handleModeNew:h,handleModeEdit:f,handleModeDelete:b,hanleCancel:o,handleSubmit:y,handleDelete:N,searchValue:S,searchOnChange:B}=F({entityName:"Categoria",pluralEntityName:"Categorias",excludeFieldsValidationEdit:["icon"],searchFields:["name","state"],crudGet:H,crudStorage:L,crudUpdate:W,crudDestroy:$}),[E,T]=r.useState([]);r.useEffect(()=>{z().then(s=>T(s))},[]);const[k,i]=r.useState(null);return e.jsxs(P,{className:"flex flex-col gap-7 w-full",children:[e.jsx(G,{src:"/image/food4.jpg"}),e.jsx(M,{title:c,icon:v,isOpen:u,onClickNew:h,searchValue:S,searchOnChange:B}),e.jsx(q,{titles:["Icono","Nombre","Descripción","Tienda"],dataList:j,isOpen:x,onRowPrint:s=>{var l;return e.jsxs("tr",{children:[e.jsx(R,{code:s.icon}),e.jsx(n,{value:s.name}),e.jsx(n,{value:s.description}),e.jsx(n,{value:(l=s==null?void 0:s.business)==null?void 0:l.name}),e.jsx(U,{children:e.jsxs(A,{children:[e.jsx(t,{text:"Productos",icon:I,type:"cancel",onClick:()=>i(s.business_id)}),e.jsx(t,{text:"Editar",icon:O,type:"edit",onClick:()=>f(s)}),e.jsx(t,{text:"Borrar",icon:D,type:"delete",onClick:()=>b(s)})]})})]},s.id)}}),e.jsxs(V,{title:d,isOpen:p,onClickCancel:o,onSubmit:y,formRef:g,children:[e.jsx(a,{label:"Nombre",placeholder:"Escriba el nombre de la categoria ",name:"name",required:!0}),e.jsx(a,{label:"Icono",placeholder:"Selecione un icono ",name:"icon"}),e.jsx(a,{label:"Descripcion",placeholder:"Escriba una descripcion",name:"description",required:!0}),e.jsxs(a,{label:"Negocio",name:"business_id",type:"select",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un Negocio"}),E.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx(_,{isOpen:C,text:"¿Seguro de eliminar este usuario?",onClickDelete:N,onClickCancel:o}),e.jsx(w,{isOpen:m,text:"Procesando tu solicitud..."}),e.jsx(J,{businessId:k,setBusinessId:i})]})}export{ee as default};
