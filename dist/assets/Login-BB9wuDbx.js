import{j as e,r as n,S as u,l as f,s as o,B as g,f as h,c as i,L as j}from"./index-DPwzPAO1.js";import{F as p,c as b,a as c,b as w,E as v}from"./index.esm-t_k-gWDQ.js";function I({info:t}){return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative flex justify-center items-center  overflow-hidden font-content min-h-dvh",children:[e.jsx("img",{src:"/image/food2.jpg",alt:"",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/90"}),e.jsxs("div",{className:"relative z-10 flex flex-col  items-center p-10  w-full max-w-[400px]",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("div",{className:"w-full max-w-32 aspect-square bg-white rounded-full pb-7 pt-4",children:e.jsx("img",{src:t.logo,alt:"Logo de "+t.name,className:"w-full h-full object-contain object-center"})}),e.jsx("h3",{className:"text-[--c1-txt] text-3xl text-center font-title p-5 mb-2",children:"Iniciar sesion"})]}),e.jsx(N,{}),e.jsx("div",{className:"flex flex-col w-full gap-2 mt-2",children:e.jsxs("div",{className:"flex flex-row justify-between mt-2",children:[e.jsx(m,{to:"/",text:" Volver al inicio"}),e.jsx(m,{to:"/register",text:" Registrarse"})]})})]})]})})}function N(){const[t,s]=n.useState(!1),{updateSession:a}=n.useContext(u);return e.jsx(p,{validationSchema:b({email:c().required("Ingrese su correo electrónico"),password:c().required("Ingrese su contraseña")}),initialValues:{email:"",password:""},onSubmit:(r,{resetForm:d})=>{s(!0),f({data:r}).then(l=>{s(!1),l!=null&&l.success?(a(l.data),o({title:"Exito",message:"Te has logueado correctamente",type:"success"}),d()):o({title:"Error desde el servidor",message:l.message||"Ocurrio un error al intentar loguearte",type:"danger"})})},children:({handleSubmit:r})=>e.jsxs("form",{onSubmit:r,className:"flex flex-col gap-1 w-full",children:[e.jsx(x,{name:"email",text:"Correo electrónico"}),e.jsx(x,{name:"password",text:"Contraseña",type:"password"}),e.jsx(g,{tag:"button",type:"submit",text:t?"":"Iniciar Sesión",icon:t?h:"",classNameIcon:"animate-spin text-sm",classNameWrapper:i("w-full h-10 items-center bg-[--c6-bg] text-[--c6-txt] border-0 hover:bg-white justify-center mt-4",{"text-black/80 hover:text-black/80 bg-gray-300 hover:bg-gray-300":t})})]})})}function x({text:t,name:s,type:a="text",className:r}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{type:a,name:s,placeholder:t,className:i("not-italic placeholder-shown:italic py-2 w-full border-solid border-b border-gray-400 bg-transparent text-[--c1-txt] ",r)}),e.jsx("div",{className:"w-full h-5 text-red-500 text-sm",children:e.jsx(v,{name:s})})]})}function m({to:t,text:s,className:a}){return e.jsx(j,{to:t,className:i("text-[--c1-txt] text-sm hover:underline opacity-70",a),children:s})}export{I as default};
