import{o as A,p as I,u as V,q as z,j as e,P as N,t as G,v as H,w as J,C as K}from"./index-CV09lF3r.js";import{u as Q,C as W,a as X,b as Y,c as o,d as Z,e as _,f as r,g as $}from"./useCrudPanel-DKJVvDW5.js";import{B as g}from"./Button-DxQScjn8.js";import"./validations-BkNB8m1K.js";function se(){const v=(a,s,{isEmail:R,isCedula:S})=>{var i,d,n,u,c,p,m,x,b,f,h,j,C;let l=!0;return(i=a.password)!=null&&i.value&&((n=(d=a.password)==null?void 0:d.value)==null?void 0:n.length)<8&&(s("La contraseña debe tener minimo 8 caracteres"),l=!1),(c=(u=a.photo)==null?void 0:u.files)!=null&&c.length&&((m=(p=a.photo)==null?void 0:p.files[0])==null?void 0:m.size)>2e6&&(s("La foto debe pesar maximo 2MB"),l=!1),(b=(x=a.signature)==null?void 0:x.files)!=null&&b.length&&((h=(f=a.signature)==null?void 0:f.files[0])==null?void 0:h.size)>2e6&&(s("La firma debe pesar maximo 2MB"),l=!1),R((j=a.email)==null?void 0:j.value)||(s("El correo electronico no es valido"),l=!1),S((C=a.dni)==null?void 0:C.value)||(s("La cedula no es valida"),l=!1),l},{head:E,table:F,form:k,confirm:q,progress:P,datalist:y,$form:U,handleModeNew:T,handleModeEdit:D,handleModeDelete:M,hanleCancel:t,handleSubmit:O,handleDelete:w,searchValue:L,searchOnChange:B}=Q({entityName:"Entidad",excludeFieldsValidationEdit:["password","photo","signature"],searchFields:["name","lastname","dni","email","role"],extraValidations:v,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:A,crudStorage:I,crudUpdate:V,crudDestroy:z});return e.jsxs(N,{className:"flex flex-col gap-7 w-full",children:[e.jsx(W,{title:"Usuarios",icon:G,isOpen:E,onClickNew:T,searchValue:L,searchOnChange:B}),e.jsx(X,{titles:["Foto","Nombre","Apellido","Email","Privilegio"],dataList:y,isOpen:F,onRowPrint:a=>e.jsxs("tr",{children:[e.jsx(Y,{src:a.photo,alt:"Foto "+a.name}),e.jsx(o,{value:a.name}),e.jsx(o,{value:a.lastname}),e.jsx(o,{value:a.email}),e.jsx(o,{value:a.role}),e.jsxs(Z,{children:[e.jsx(g,{text:"Editar",icon:H,type:"edit",onClick:()=>D(a)}),e.jsx(g,{text:"Borrar",icon:J,type:"delete",onClick:()=>M(a)})]})]},a.id)}),e.jsxs(_,{title:"Usuario",isOpen:k,onClickCancel:t,onSubmit:O,formRef:U,children:[e.jsx(r,{label:"Nombres",placeholder:"Escriba los nombres",name:"name",required:!0}),e.jsx(r,{label:"Apellidos",placeholder:"Escriba los apellidos",name:"lastname",required:!0}),e.jsx(r,{label:"Cedula ",placeholder:"Escriba el de cedula",name:"dni",required:!0}),e.jsx(r,{label:"Correo Electronico",placeholder:"Escriba el correo electronico",name:"email",required:!0}),e.jsx(r,{label:"Contraseña",placeholder:"Escriba la contraseña",type:"password",name:"password",required:!0}),e.jsx(r,{name:"role",label:"Provilegios",type:"radio",radioOptions:[{value:"Administrador",label:"Administrador"},{value:"Responsable",label:"Responsable"},{value:"Profesor",label:"Profesor",checked:!0}],required:!0}),e.jsx(r,{label:"Facebook",placeholder:"Ingrese el Link de Facebook",name:"facebook",required:!0}),e.jsx(r,{label:"Descripcion",placeholder:"Escriba la descripción",name:"description",type:"textarea",required:!0}),e.jsx(r,{label:"Foto",name:"photo",type:"file",required:!0}),e.jsx(r,{label:"Firma",type:"file",name:"signature",accept:"image/png",required:!0})]}),e.jsx($,{isOpen:q,text:"¿Seguro de eliminar este usuario?",onClickDelete:w,onClickCancel:t}),e.jsx(K,{isOpen:P,text:"Procesando tu solicitud..."})]})}export{se as default};
