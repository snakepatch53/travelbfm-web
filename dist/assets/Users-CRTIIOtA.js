import{o as I,p as A,u as N,q as V,j as e,P as z,t as G,v as H,w as _,C as J}from"./index-BxvfZeIZ.js";import{u as K,C as Q,a as W,b as X,c as o,d as Y,e as Z,f as r,g as $}from"./useCrudPanel-C7Kz2rW8.js";import{B as g}from"./Button-BIoQ9j7C.js";import"./validations-BkNB8m1K.js";function le(){const v=(a,l,{isEmail:R,isCedula:S})=>{var i,d,n,u,c,p,m,x,b,f,h,j,C;let s=!0;return(i=a.password)!=null&&i.value&&((n=(d=a.password)==null?void 0:d.value)==null?void 0:n.length)<8&&(l("La contraseña debe tener minimo 8 caracteres"),s=!1),(c=(u=a.photo)==null?void 0:u.files)!=null&&c.length&&((m=(p=a.photo)==null?void 0:p.files[0])==null?void 0:m.size)>2e6&&(l("La foto debe pesar maximo 2MB"),s=!1),(b=(x=a.signature)==null?void 0:x.files)!=null&&b.length&&((h=(f=a.signature)==null?void 0:f.files[0])==null?void 0:h.size)>2e6&&(l("La firma debe pesar maximo 2MB"),s=!1),R((j=a.email)==null?void 0:j.value)||(l("El correo electronico no es valido"),s=!1),S((C=a.dni)==null?void 0:C.value)||(l("La cedula no es valida"),s=!1),s},{head:E,table:F,form:k,confirm:q,progress:P,datalist:y,$form:U,handleModeNew:T,handleModeEdit:D,handleModeDelete:M,hanleCancel:t,handleSubmit:O,handleDelete:w,searchValue:L,searchOnChange:B}=K({entityName:"Entidad",excludeFieldsValidationEdit:["password","photo","signature"],searchFields:["name","lastname","dni","email","role"],extraValidations:v,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:I,crudStorage:A,crudUpdate:N,crudDestroy:V});return e.jsxs(z,{className:"flex flex-col gap-7 w-full",children:[e.jsx(Q,{title:"Usuarios",icon:G,isOpen:E,onClickNew:T,searchValue:L,searchOnChange:B}),e.jsx(W,{titles:["Foto","Nombre","DNI","Email","Privilegio"],dataList:y,isOpen:F,onRowPrint:a=>e.jsxs("tr",{children:[e.jsx(X,{src:a.photo_url,alt:"Foto "+a.name}),e.jsx(o,{value:a.name}),e.jsx(o,{value:a.dni}),e.jsx(o,{value:a.email}),e.jsx(o,{value:a.role}),e.jsxs(Y,{children:[e.jsx(g,{text:"Editar",icon:H,type:"edit",onClick:()=>D(a)}),e.jsx(g,{text:"Borrar",icon:_,type:"delete",onClick:()=>M(a)})]})]},a.id)}),e.jsxs(Z,{title:"Usuario",isOpen:k,onClickCancel:t,onSubmit:O,formRef:U,children:[e.jsx(r,{label:"Nombres",placeholder:"Escriba los nombres",name:"name",required:!0}),e.jsx(r,{label:"Apellidos",placeholder:"Escriba los apellidos",name:"lastname",required:!0}),e.jsx(r,{label:"Cedula ",placeholder:"Escriba el de cedula",name:"dni",required:!0}),e.jsx(r,{label:"Correo Electronico",placeholder:"Escriba el correo electronico",name:"email",required:!0}),e.jsx(r,{label:"Contraseña",placeholder:"Escriba la contraseña",type:"password",name:"password",required:!0}),e.jsx(r,{name:"role",label:"Provilegios",type:"radio",radioOptions:[{value:"Administrador",label:"Administrador"},{value:"Responsable",label:"Responsable"},{value:"Profesor",label:"Profesor",checked:!0}],required:!0}),e.jsx(r,{label:"Facebook",placeholder:"Ingrese el Link de Facebook",name:"facebook",required:!0}),e.jsx(r,{label:"Descripcion",placeholder:"Escriba la descripción",name:"description",type:"textarea",required:!0}),e.jsx(r,{label:"Foto",name:"photo",type:"file",required:!0}),e.jsx(r,{label:"Firma",type:"file",name:"signature",accept:"image/png",required:!0})]}),e.jsx($,{isOpen:q,text:"¿Seguro de eliminar este usuario?",onClickDelete:w,onClickCancel:t}),e.jsx(J,{isOpen:P,text:"Procesando tu solicitud..."})]})}export{le as default};
