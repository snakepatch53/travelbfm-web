import{x as n,j as e,P as b,y,v as D,w as S,C as w}from"./index-BxvfZeIZ.js";import{u as I,C as P,a as E,b as O,c as F,d as k,e as M,f as m,g as N}from"./useCrudPanel-C7Kz2rW8.js";import{B as p}from"./Button-BIoQ9j7C.js";import"./validations-BkNB8m1K.js";const i="images";function B(a){return a.map(({id:r,image:s,description:o,created_at:l,updated_at:d,image_url:c})=>({id:r,image:s,description:o,created_at:l,updated_at:d,image_url:c}))}async function L(){const a=await n({resource:i});return B(a)}async function R({data:a}){return await n({resource:i,data:a,method:"POST",all:!0,formData:!0})}async function q({id:a,data:r}){return await n({resource:i+"/"+a,data:r,method:"POST",all:!0,formData:!0})}async function v({id:a,data:r}){return await n({resource:i+"/"+a,data:r,method:"DELETE",all:!0})}function H(){const{head:a,table:r,form:s,confirm:o,progress:l,datalist:d,$form:c,handleModeNew:f,handleModeEdit:g,handleModeDelete:x,hanleCancel:u,handleSubmit:C,handleDelete:h,searchValue:j,searchOnChange:T}=I({entityName:"Slide",searchFields:["description"],isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,excludeFieldsValidationEdit:["image"],crudGet:L,crudStorage:R,crudUpdate:q,crudDestroy:v});return e.jsxs(b,{className:"flex flex-col gap-7 w-full",children:[e.jsx(P,{title:"Slides",icon:y,isOpen:a,onClickNew:f,searchValue:j,searchOnChange:T}),e.jsx(E,{titles:["Imagen","Descripcion"],dataList:d,isOpen:r,onRowPrint:t=>e.jsxs("tr",{children:[e.jsx(O,{src:t.image_url,alt:"Logo de "+t.name}),e.jsx(F,{value:t.description}),e.jsxs(k,{children:[e.jsx(p,{text:"Editar",icon:D,type:"edit",onClick:()=>g(t)}),e.jsx(p,{text:"Borrar",icon:S,type:"delete",onClick:()=>x(t)})]})]},t.id)}),e.jsxs(M,{title:"Slide",isOpen:s,onClickCancel:u,onSubmit:C,formRef:c,children:[e.jsx(m,{label:"Imagen",type:"file",name:"image",accept:"image/jpg",required:!0}),e.jsx(m,{label:"Descripción",placeholder:"Escriba una descripción de la imagen",name:"description",required:!0})]}),e.jsx(N,{isOpen:o,text:"¿Seguro de eliminar este slide?",onClickDelete:h,onClickCancel:u}),e.jsx(w,{isOpen:l,text:"Procesando tu solicitud..."})]})}export{H as default};
