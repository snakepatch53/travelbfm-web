import{j as e,F as v,z as oe,A as de,m as ue,D as B,y as fe,r as u,d as me,b as xe,E as he,w as je,s as m}from"./index-BxvfZeIZ.js";import{B as w}from"./Button-BIoQ9j7C.js";import{r as pe,s as ge,i as R,v as be,f as z}from"./validations-BkNB8m1K.js";function Se({title:a,isOpen:s,onClickNew:i,icon:n=!1,searchValue:l,searchOnChange:o,rightButtonComponent:c=!1}){return e.jsxs("section",{className:"grid gap-4 grid-cols-1 md:grid-cols-4 lg:grid-cols-3 bg-[--c3-bg] rounded-sm border-solid border-t-[3px] border-[var(--c3-txt3)] shadow-[0_2px_5px_0_rgba(0,0,0,0.3)]",style:{margin:"0",padding:s?"10px":"0",height:s?"auto":"0",opacity:s?"1":"0",overflow:s?"visible":"hidden"},children:[e.jsx("div",{className:"col-span-1 xl:col-span-1",children:e.jsxs("h3",{className:"flex gap-1 w-full h-full items-center justify-center md:justify-start font-content2 font-bold text-md text-[var(--c3-txt3)]",children:[n&&e.jsx(v,{icon:n,className:"text-sm mb-1"})," ",a]})}),e.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-1 flex w-full h-8 items-center rounded-md overflow-hidden border border-solid border-[--c6-bg]",children:[e.jsxs("span",{className:"flex justify-center items-center h-full px-2 bg-[--c6-bg] text-[--c6-txt]",children:["Buscar:"," "]}),e.jsxs("div",{className:"flex items-center w-full h-full px-2 bg-[--c3-bg]",children:[e.jsx(v,{icon:oe,className:"text-[--c3-txt4]"}),e.jsx("input",{type:"search",placeholder:"Busca por cualquier campo..",value:l,onChange:o,className:"w-full pl-1 bg-[--c3-bg]"})]})]}),!c&&e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("div",{className:"w-full lg:w-24",children:e.jsx(w,{text:"Agregar",icon:de,type:"new",onClick:i,style:{width:"100%"}})})}),c&&e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("div",{className:"w-full lg:w-24",children:c})})]})}function F({cols:a=1,actionsNum:s}){return e.jsx("tr",{className:"relative bg-[var(--color6-bg)] rounded skeleton",children:e.jsxs(e.Fragment,{children:[Array(a).fill().map((i,n)=>e.jsx("td",{className:"h-full px-2",children:e.jsx(q,{})},n)),e.jsxs("td",{className:"td-action",children:[e.jsx("div",{className:"buttons-flex",children:new Array(s).fill().map((i,n)=>e.jsx(q,{className:"rounded-md"},n))}),e.jsx("div",{className:"brigth-animation absolute inset-0"})]})]})})}function q({className:a}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex-1 flex h-full rounded-full bg-[var(--color6-txt)] text-[var(--color6-txt)] min-w-20 "+a,children:"."})})}function Ee({titles:a,isOpen:s,dataList:i,onRowPrint:n,actionsNum:l=2,actionText:o="Acción"}){return e.jsx("section",{className:"panel-crudtable-component "+(s?"open":""),children:e.jsx("div",{className:"content_table ideatable scroll-style",children:e.jsxs("table",{border:"1",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[a.map(c=>e.jsx("th",{children:c},c)),e.jsx("th",{children:o})]})}),e.jsxs("tbody",{children:[i&&i.map(c=>n(c)),!i&&e.jsxs(e.Fragment,{children:[e.jsx(F,{cols:a.length,actionsNum:l}),e.jsx(F,{cols:a.length,actionsNum:l}),e.jsx(F,{cols:a.length,actionsNum:l}),e.jsx(F,{cols:a.length,actionsNum:l})]})]})]})})})}function Fe({value:a,classNameText:s=""}){return e.jsx("td",{children:e.jsx("span",{className:"td-span "+s,children:a})})}function $e({src:a,alt:s}){return e.jsx("td",{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:a,className:"td-photo",alt:s})})})}function ke({children:a}){return e.jsx("td",{className:"td-action",children:e.jsx("div",{className:"buttons-flex",children:a})})}function Te({children:a,title:s,onClickCancel:i,isOpen:n,onSubmit:l,formRef:o,showSaveButton:c=!0,textCancel:$="Cancelar"}){return e.jsx("section",{className:"panel-crudform-component "+(n?"open":""),children:e.jsxs("form",{className:"ideaform",onSubmit:l,ref:o,noValidate:!0,children:[e.jsx("div",{className:"head",children:e.jsx("h3",{children:s})}),e.jsx("div",{className:"body",children:a}),e.jsxs("div",{className:"foot",children:[e.jsx("div",{className:"msg",id:"msg"}),e.jsxs("div",{className:"buttons",children:[c&&e.jsx(w,{text:"Guardar",icon:ue,type:"edit",_type:"submit"}),e.jsx(w,{text:$,icon:B,type:"cancel",onClick:i})]})]})]})})}function _e({label:a,name:s,placeholder:i,type:n="text",required:l=!1,classNameWrapper:o="",...c}){return e.jsxs("div",{className:"campo "+o,children:[e.jsxs("span",{children:[a," ",l?e.jsx("b",{children:"*"}):"",":"]}),e.jsx(ve,{type:n,name:s,placeholder:i,...c,required:l})]})}function ve({radioOptions:a=[],...s}){const n=[{type:"file",Component:({accept:l="image/jpg"})=>e.jsxs("div",{className:"inputfile",children:[e.jsx("input",{className:"placeholder_off",accept:l,...s}),e.jsx(v,{icon:fe})]})},{type:"select",Component:()=>e.jsx("select",{...s,children:s.children})},{type:"textarea",Component:()=>e.jsx("textarea",{...s,className:"border-solid border border-gray-300 rounded-xm p-2 bg-white "+s.className})},{type:"password",Component:()=>{const[l,o]=u.useState(!1),c=()=>{o(!l)};return e.jsxs("div",{className:"inputpass ",children:[e.jsx("input",{...s,type:l?"password":"text"}),e.jsx("button",{type:"button",className:"ideabutton showpass flex justify-center items-center",onClick:c,children:e.jsx(v,{icon:l?me:xe})})]})}},{type:"radio",Component:()=>e.jsx("div",{className:"flex w-full rounded-sm overflow-hidden bg-white",style:{border:"solid 1px rgba(0, 0, 0, 0.2)"},children:a.map(({value:l,label:o,checked:c=!1})=>e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{...s,type:"radio",id:s.name+"-"+l,name:s.name,value:l,className:"hidden [&:checked~div]:w-full [&:checked~label]:opacity-100 [&:checked~label]:font-bold [&:checked~label]:text-[var(--info)] ",defaultChecked:c}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 m-auto w-0 h-0.5 bg-[var(--info)] transition-all duration-200"}),e.jsx("label",{htmlFor:s.name+"-"+l,className:"cursor-pointer flex w-full h-full justify-center text-center p-1 transition-all duration-200 opacity-80 hover:opacity-100 "+(s!=null&&s.disabled?"cursor-not-allowed opacity-40":""),children:o})]},l))})}].find(l=>l.type==s.type);return n?e.jsx(n.Component,{}):e.jsx("input",{...s})}function De({isOpen:a,text:s,onClickDelete:i,onClickCancel:n}){return e.jsx("section",{className:"panel-crudconfirm-component "+(a?"open":""),onClick:l=>{l.target===l.currentTarget&&n()},children:e.jsxs("div",{className:"ideaconfirm",children:[e.jsxs("div",{className:"head",children:[e.jsx("p",{className:"msg",children:s}),e.jsx("button",{id:"modalClose",onClick:n,children:e.jsx(v,{icon:he})})]}),e.jsxs("div",{className:"foot",children:[e.jsx(w,{text:"Cancelar",icon:B,type:"cancel",onClick:n,className:"bg-gray-500"}),e.jsx(w,{text:"Eliminar",icon:je,type:"delete",onClick:i})]})]})})}function Ie({entityName:a,excludeFieldsValidationEdit:s=[],extraValidations:i=()=>!0,isStorageMultipartFormData:n=!1,isUpdateMultipartFormData:l=!1,crudGet:o=null,crudStorage:c=null,crudUpdate:$=null,crudDestroy:H=null,gender:h=!0,searchFields:L=[]}){const[W,k]=u.useState(!0),[X,T]=u.useState(!0),[G,_]=u.useState(!1),[J,D]=u.useState(!1),[K,y]=u.useState(!1),U=()=>{k(!1),T(!1),_(!0),D(!1),y(!1)},N=()=>{k(!0),T(!0),_(!1),D(!1),y(!1)},Q=()=>{k(!0),T(!0),_(!1),D(!0),y(!1)},j=t=>{y(t)},[p,g]=u.useState(null),[Y,V]=u.useState(null),[C,Z]=u.useState(""),[x,I]=u.useState(null),P=u.useRef(null);u.useEffect(()=>{o().then(t=>g(t))},[o]),u.useEffect(()=>{if(!C)return V(null);const t=C.toLowerCase(),d=p.filter(r=>{var S,b,E,M;let f=!1;for(const A of L)if(A.includes(".")){const[ce,ie]=A.split(".");(b=(S=r[ce][ie])==null?void 0:S.toLowerCase())!=null&&b.includes(t)&&(f=!0)}else(M=(E=r[A])==null?void 0:E.toLowerCase())!=null&&M.includes(t)&&(f=!0);return f});V(d)},[C]);function O(){U(),I(null),pe(P.current)}function ee(t){U(),I(t),ge(t,P.current,100)}function se(t){Q(),I(t)}function ae(){N(),m({title:"Cancelado",message:"Se cancelo la operación",type:"warning"})}function te(t){t.preventDefault();const d=t.target;let r=R(d);if(x&&(r=R(d,s)),!r.isValidate)return m({title:"Error de validación",message:"Complete los campos requeridos (*)",type:"warning"});if(!i(d,we,be))return;const f=new FormData(d);return j(!0),x?ne(f):le(f)}function le(t){let d=t;n||(d=z(t)),c({data:d}).then(r=>{if(j(!1),r!=null&&r.success){const f=r.data;g([...p,f]),m({title:"Exito",message:`${a} cread${h?"o":"a"} correctamente`,type:"success"}),N()}else m({title:"Error desde el servidor",message:r.message||`"Error al crear ${h?"el":"la"} ${a}`,type:"danger"})})}function ne(t){let d=t;l||(d=z(t)),$({id:x.id,data:d}).then(r=>{if(j(!1),r!=null&&r.success){const f=r.data,S=p.findIndex(E=>E.id===f.id),b=[...p];b[S]=f,g(b),m({title:"Exito",message:`${a} actualizad${h?"o":"a"} correctamente`,type:"success"}),N()}else m({title:"Error desde el servidor",message:r.message||`Error al actualizar ${h?"el":"la"} ${a}`,type:"danger"})})}function re(){if(!(x!=null&&x.id))return m({title:"Error de validación",message:`Seleccione ${h?"un":"una"} ${a} a eliminar`,type:"danger"});j(!0),H({id:x.id}).then(t=>{if(j(!1),t!=null&&t.success){const d=p.filter(r=>r.id!==x.id);g(d),m({title:"Exito",message:`${a} eliminad${h?"o":"a"} correctamente`,type:"success"})}else m({title:"Error desde el servidor",message:(t==null?void 0:t.message)||`Error al eliminar ${h?"el":"la"} ${a}`,type:"danger"});N()})}return{head:W,table:X,form:G,confirm:J,progress:K,datalist:Y||p,$form:P,searchValue:C,handleModeNew:O,handleModeEdit:ee,handleModeDelete:se,hanleCancel:ae,handleSubmit:te,handleDelete:re,searchOnChange:({target:t})=>Z(t.value),showProgress:j,updateDatalist:t=>g(t)}}function we(a){m({title:"Error de validación",message:a,type:"warning"})}export{Se as C,Ee as a,$e as b,Fe as c,ke as d,Te as e,_e as f,De as g,Ie as u};
