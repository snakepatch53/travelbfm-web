import{r as i,p as T,j as e,P as L,C as O,z as U,l as t,A as w,x as V,y as R,n as A}from"./index-CBsv0i6a.js";import{u as z,C as J,a as G,b as H,c as m,d as K,e as Q,f as a,g as W}from"./useCrudPanel-B8-djgQh.js";import{g as X,s as Y,u as Z,d as $,C as ee,M as ae}from"./ModalProducts-B6OLcZf9.js";import"./validations-BCKcn_3C.js";function ne(){const x=(s,o,{isUrl:P})=>{var d,u,c,p;let l=!0;return P(s.link.value)||(o("El link debe ser una URL valida"),l=!1),(u=(d=s.logo)==null?void 0:d.files)!=null&&u.length&&((p=(c=s.logo)==null?void 0:c.files[0])==null?void 0:p.size)>2e6&&(o("La foto debe pesar maximo 2MB"),l=!1),l},{entityName:b,pluralEntityName:j,head:y,table:g,form:h,confirm:C,progress:f,datalist:E,$form:_,handleModeNew:v,handleModeEdit:F,handleModeDelete:I,hanleCancel:n,handleSubmit:k,handleDelete:B,searchValue:S,searchOnChange:M}=z({entityName:"Negocio",pluralEntityName:"Negocios",excludeFieldsValidationEdit:["logo","url"],searchFields:["name"],extraValidations:x,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:X,crudStorage:Y,crudUpdate:Z,crudDestroy:$}),[D,q]=i.useState([]);i.useEffect(()=>{T().then(s=>q(s))},[]);const[N,r]=i.useState(null);return e.jsxs(L,{className:"flex flex-col gap-7 w-full",children:[e.jsx(O,{src:"/image/food6.jpg"}),e.jsx(J,{title:j,icon:U,isOpen:y,onClickNew:v,searchValue:S,searchOnChange:M}),e.jsx(G,{titles:["Logo","Nombre","Celular"],dataList:E,isOpen:g,onRowPrint:s=>e.jsxs("tr",{children:[e.jsx(H,{src:s.logo_url,alt:"Foto "+s.name}),e.jsx(m,{value:s.name}),e.jsx(m,{value:s.phone}),e.jsx(K,{children:e.jsxs(ee,{children:[e.jsx(t,{text:"Productos",icon:w,type:"cancel",onClick:()=>r(s.id)}),e.jsx(t,{text:"Editar",icon:V,type:"edit",onClick:()=>F(s)}),e.jsx(t,{text:"Borrar",icon:R,type:"delete",onClick:()=>I(s)})]})})]},s.id)}),e.jsxs(Q,{title:b,isOpen:h,onClickCancel:n,onSubmit:k,formRef:_,children:[e.jsx(a,{label:"Nombre",placeholder:"Escriba el nombre",name:"name",required:!0}),e.jsx(a,{label:"Descripcion",placeholder:"Escriba una descripcion",name:"description",required:!0}),e.jsx(a,{label:"Descripcion corta",placeholder:"Escriba una descripcion corta",name:"short_description",required:!0}),e.jsx(a,{label:"Celular",placeholder:"Escriba su numero de celular",name:"phone",required:!0}),e.jsx(a,{label:"Direccion",placeholder:"Escriba una direccion",name:"address",required:!0}),e.jsx(a,{label:"Ubicación",placeholder:"Escriba su ubicacion",name:"location",required:!0}),e.jsx(a,{label:"Link",placeholder:"Escriba el link",name:"link",required:!0}),e.jsx(a,{name:"state",label:"Estado",type:"radio",radioOptions:[{value:"Activo",label:"Activo",checked:!0},{value:"Inactivo",label:"Inactivo"}],required:!0}),e.jsx(a,{label:"Logo",name:"logo",type:"file",accept:"image/png,image/jpg,image/jpeg",required:!0}),e.jsxs(a,{label:"Usuario",name:"user_id",type:"select",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un usuario"}),D.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(a,{type:"time",label:"Lunes - Inicio",name:"monday_open"}),e.jsx(a,{type:"time",label:"Lunes - Fin",name:"monday_close"}),e.jsx(a,{type:"time",label:"Martes - Inicio",name:"tuesday_open"}),e.jsx(a,{type:"time",label:"Martes - Fin",name:"tuesday_close"}),e.jsx(a,{type:"time",label:"Miércoles - Inicio",name:"wednesday_open"}),e.jsx(a,{type:"time",label:"Miércoles - Fin",name:"wednesday_close"}),e.jsx(a,{type:"time",label:"Jueves - Inicio",name:"thursday_open"}),e.jsx(a,{type:"time",label:"Jueves - Fin",name:"thursday_close"}),e.jsx(a,{type:"time",label:"Viernes - Inicio",name:"friday_open"}),e.jsx(a,{type:"time",label:"Viernes - Fin",name:"friday_close"}),e.jsx(a,{type:"time",label:"Sábado - Inicio",name:"saturday_open"}),e.jsx(a,{type:"time",label:"Sábado - Fin",name:"saturday_close"}),e.jsx(a,{type:"time",label:"Domingo - Inicio",name:"sunday_open"}),e.jsx(a,{type:"time",label:"Domingo - Fin",name:"sunday_close"})]}),e.jsx(W,{isOpen:C,text:"¿Seguro de eliminar este usuario?",onClickDelete:B,onClickCancel:n}),e.jsx(A,{isOpen:f,text:"Procesando tu solicitud..."}),e.jsx(ae,{businessId:N,setBusinessId:r})]})}export{ne as default};
