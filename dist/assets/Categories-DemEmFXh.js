import{r as n,j as e,P as k,C as I,w as O,l as r,A as v,x as D,y as w,n as F}from"./index-CBsv0i6a.js";import{u as M,C as q,a as R,h as U,c as t,d as V,e as _,f as a,g as A}from"./useCrudPanel-B8-djgQh.js";import{a as G,b as H,c as L,e as W,g as $,C as z,M as J}from"./ModalProducts-B6OLcZf9.js";import"./validations-BCKcn_3C.js";function Z(){const{entityName:d,pluralEntityName:c,head:u,table:x,form:p,confirm:C,progress:j,datalist:g,$form:h,handleModeNew:m,handleModeEdit:f,handleModeDelete:b,hanleCancel:o,handleSubmit:y,handleDelete:N,searchValue:S,searchOnChange:B}=M({entityName:"Categoria",pluralEntityName:"Categorias",excludeFieldsValidationEdit:["icon"],searchFields:["name","state"],crudGet:G,crudStorage:H,crudUpdate:L,crudDestroy:W}),[E,T]=n.useState([]);n.useEffect(()=>{$().then(s=>T(s))},[]);const[P,i]=n.useState(null);return e.jsxs(k,{className:"flex flex-col gap-7 w-full",children:[e.jsx(I,{src:"/image/food4.jpg"}),e.jsx(q,{title:c,icon:O,isOpen:u,onClickNew:m,searchValue:S,searchOnChange:B}),e.jsx(R,{titles:["Icono","Nombre","Descripción","Tienda"],dataList:g,isOpen:x,onRowPrint:s=>{var l;return e.jsxs("tr",{children:[e.jsx(U,{code:s.icon}),e.jsx(t,{value:s.name}),e.jsx(t,{value:s.description}),e.jsx(t,{value:(l=s==null?void 0:s.business)==null?void 0:l.name}),e.jsx(V,{children:e.jsxs(z,{children:[e.jsx(r,{text:"Productos",icon:v,type:"cancel",onClick:()=>i(s.business_id)}),e.jsx(r,{text:"Editar",icon:D,type:"edit",onClick:()=>f(s)}),e.jsx(r,{text:"Borrar",icon:w,type:"delete",onClick:()=>b(s)})]})})]},s.id)}}),e.jsxs(_,{title:d,isOpen:p,onClickCancel:o,onSubmit:y,formRef:h,children:[e.jsx(a,{label:"Nombre",placeholder:"Escriba el nombre de la categoria ",name:"name",required:!0}),e.jsx(a,{label:"Icono",placeholder:"Selecione un icono ",name:"icon"}),e.jsx(a,{label:"Descripcion",placeholder:"Escriba una descripcion",name:"description",required:!0}),e.jsxs(a,{label:"Negocio",name:"business_id",type:"select",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un Negocio"}),E.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx(A,{isOpen:C,text:"¿Seguro de eliminar este usuario?",onClickDelete:N,onClickCancel:o}),e.jsx(F,{isOpen:j,text:"Procesando tu solicitud..."}),e.jsx(J,{businessId:P,setBusinessId:i})]})}export{Z as default};
