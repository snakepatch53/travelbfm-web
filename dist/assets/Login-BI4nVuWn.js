import{j as e,r as m,S as d,s as n,B as u,f,c as r,L as g}from"./index-BTbKq4bm.js";import{F as j,c as h,a as c,b as p,E as b}from"./index.esm-Bse75xJW.js";function y({info:t}){return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative flex justify-center items-center  overflow-hidden font-content min-h-dvh",children:[e.jsx("img",{src:"/image/food2.jpg",alt:"",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/90"}),e.jsxs("div",{className:"relative z-10 flex flex-col  items-center p-10  w-full max-w-[400px]",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("div",{className:"w-full max-w-32 aspect-square bg-white rounded-full pb-7 pt-4",children:e.jsx("img",{src:t.logo,alt:"Logo de "+t.name,className:"w-full h-full object-contain object-center"})}),e.jsx("h3",{className:"text-[--c1-txt] text-3xl text-center font-title p-5 mb-2",children:"Iniciar sesion"})]}),e.jsx(w,{}),e.jsx("div",{className:"flex flex-col w-full gap-2 mt-2",children:e.jsxs("div",{className:"flex flex-row justify-between mt-2",children:[e.jsx(x,{to:"/",text:" Volver al inicio"}),e.jsx(x,{to:"/register",text:" Registrarse"})]})})]})]})})}function w(){const{progress:t,login:a}=m.useContext(d);return e.jsx(j,{validationSchema:h({email:c().required("Ingrese su correo electrónico"),password:c().required("Ingrese su contraseña")}),initialValues:{email:"",password:""},onSubmit:(s,{resetForm:l})=>{a(s).then(i=>{if(!(i!=null&&i.success))return n({title:"Cancelado",message:(i==null?void 0:i.message)||"Error al iniciar sesion",type:"warning"});l(),n({title:"Sesión iniciada",message:"Bienvenido",type:"success"})})},children:({handleSubmit:s})=>e.jsxs("form",{onSubmit:s,className:"flex flex-col gap-1 w-full",children:[e.jsx(o,{name:"email",text:"Correo electrónico"}),e.jsx(o,{name:"password",text:"Contraseña",type:"password"}),e.jsx(u,{tag:"button",type:"submit",text:t?"":"Iniciar Sesión",icon:t?f:"",classNameIcon:"animate-spin text-sm",classNameWrapper:r("w-full h-10 items-center bg-[--c6-bg] text-[--c6-txt] border-0 hover:bg-white justify-center mt-4",{"text-black/80 hover:text-black/80 bg-gray-300 hover:bg-gray-300":t})})]})})}function o({text:t,name:a,type:s="text",className:l}){return e.jsxs(e.Fragment,{children:[e.jsx(p,{type:s,name:a,placeholder:t,className:r("not-italic placeholder-shown:italic py-2 w-full border-solid border-b border-gray-400 bg-transparent text-[--c1-txt] ",l)}),e.jsx("div",{className:"w-full h-5 text-red-500 text-sm",children:e.jsx(b,{name:a})})]})}function x({to:t,text:a,className:s}){return e.jsx(g,{to:t,className:r("text-[--c1-txt] text-sm hover:underline opacity-70",s),children:a})}export{y as default};
