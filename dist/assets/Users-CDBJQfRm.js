import{n as A,o as M,p as S,q as V,j as e,P as B,t as I,k as b,v as L,w as R,C as z}from"./index-DSXsjQfW.js";import{u as G,C as H,a as _,b as J,c as s,d as K,e as Q,f as r,g as W}from"./useCrudPanel-BnfChyCa.js";import{C as X}from"./CrudBackground-CIVg33FB.js";import"./validations-R_Xd7w2Q.js";function ae(){const C=(a,o,{isEmail:N})=>{var i,d,n,u,c,p,m,x;let l=!0;return(i=a.password)!=null&&i.value&&((n=(d=a.password)==null?void 0:d.value)==null?void 0:n.length)<8&&(o("La contrase単a debe tener minimo 8 caracteres"),l=!1),(c=(u=a.photo)==null?void 0:u.files)!=null&&c.length&&((m=(p=a.photo)==null?void 0:p.files[0])==null?void 0:m.size)>2e6&&(o("La foto debe pesar maximo 2MB"),l=!1),N((x=a.email)==null?void 0:x.value)||(o("El correo electronico no es valido"),l=!1),l},{entityName:h,pluralEntityName:j,head:f,table:v,form:g,confirm:E,progress:y,datalist:k,$form:F,handleModeNew:U,handleModeEdit:q,handleModeDelete:P,hanleCancel:t,handleSubmit:T,handleDelete:w,searchValue:O,searchOnChange:D}=G({entityName:"Usuario",pluralEntityName:"Usuarios",excludeFieldsValidationEdit:["password","photo"],searchFields:["name","lastname","email","role"],extraValidations:C,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:A,crudStorage:M,crudUpdate:S,crudDestroy:V});return e.jsxs(B,{className:"flex flex-col gap-7 w-full",children:[e.jsx(X,{}),e.jsx(H,{title:j,icon:I,isOpen:f,onClickNew:U,searchValue:O,searchOnChange:D}),e.jsx(_,{titles:["Foto","Nombre","Apellido","Email","Privilegio"],dataList:k,isOpen:v,onRowPrint:a=>e.jsxs("tr",{children:[e.jsx(J,{src:a.photo_url,alt:"Foto "+a.name}),e.jsx(s,{value:a.name}),e.jsx(s,{value:a.lastname}),e.jsx(s,{value:a.email}),e.jsx(s,{value:a.role}),e.jsxs(K,{children:[e.jsx(b,{text:"Editar",icon:L,type:"edit",onClick:()=>q(a)}),e.jsx(b,{text:"Borrar",icon:R,type:"delete",onClick:()=>P(a)})]})]},a.id)}),e.jsxs(Q,{title:h,isOpen:g,onClickCancel:t,onSubmit:T,formRef:F,children:[e.jsx(r,{label:"Nombres",placeholder:"Escriba los nombres",name:"name",required:!0}),e.jsx(r,{label:"Apellidos",placeholder:"Escriba los apellidos",name:"lastname",required:!0}),e.jsx(r,{label:"Celular",placeholder:"Escriba su numero de celular",name:"phone",required:!0}),e.jsx(r,{label:"Direccion",placeholder:"Escriba una direccion",name:"address",required:!0}),e.jsx(r,{label:"Correo Electronico",placeholder:"Escriba el correo electronico",name:"email",required:!0}),e.jsx(r,{label:"Contrase単a",placeholder:"Escriba la contrase単a",type:"password",name:"password",required:!0}),e.jsx(r,{name:"role",label:"Privilegios",type:"radio",radioOptions:[{value:"Administrador",label:"Administrador",checked:!0},{value:"Vendedor",label:"Vendedor"},{value:"Cliente",label:"Cliente"}],required:!0}),e.jsx(r,{name:"state",label:"Estado",type:"radio",radioOptions:[{value:"Activo",label:"Activo",checked:!0},{value:"Inactivo",label:"Inactivo"}],required:!0}),e.jsx(r,{label:"Foto",name:"photo",type:"file"})]}),e.jsx(W,{isOpen:E,text:"多Seguro de eliminar este usuario?",onClickDelete:w,onClickCancel:t}),e.jsx(z,{isOpen:y,text:"Procesando tu solicitud..."})]})}export{ae as default};
