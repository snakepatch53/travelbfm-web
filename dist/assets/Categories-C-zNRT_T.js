import{r,j as e,P,t as v,k as o,y as I,v as O,w as D,C as w}from"./index-BlHX8wUy.js";import{u as F,C as M,a as q,h as R,c as t,d as U,e as V,f as a,g as _}from"./useCrudPanel-CYpB8VXP.js";import{C as G}from"./CrudBackground-CjO61FQl.js";import{C as H,M as L}from"./ModalProducts-CLSkgOZ9.js";import{g as W,s as $,u as z,d as A}from"./categories-CA5ysTkW.js";import{g as J}from"./businesses-BZQ6S_Ws.js";import"./validations-R_Xd7w2Q.js";import"./Products-Cqe5NJnC.js";import"./products-CwVT3N1j.js";function oe(){const{entityName:d,pluralEntityName:c,head:u,table:p,form:x,confirm:C,progress:m,datalist:g,$form:j,handleModeNew:h,handleModeEdit:f,handleModeDelete:b,hanleCancel:n,handleSubmit:y,handleDelete:N,searchValue:S,searchOnChange:B}=F({entityName:"Categoria",pluralEntityName:"Categorias",excludeFieldsValidationEdit:["icon"],searchFields:["name","state"],crudGet:W,crudStorage:$,crudUpdate:z,crudDestroy:A}),[E,T]=r.useState([]);r.useEffect(()=>{J().then(s=>T(s))},[]);const[k,i]=r.useState(null);return e.jsxs(P,{className:"flex flex-col gap-7 w-full",children:[e.jsx(G,{src:"/image/food4.jpg"}),e.jsx(M,{title:c,icon:v,isOpen:u,onClickNew:h,searchValue:S,searchOnChange:B}),e.jsx(q,{titles:["Icono","Nombre","Descripción","Tienda"],dataList:g,isOpen:p,onRowPrint:s=>{var l;return e.jsxs("tr",{children:[e.jsx(R,{code:s.icon}),e.jsx(t,{value:s.name}),e.jsx(t,{value:s.description}),e.jsx(t,{value:(l=s==null?void 0:s.business)==null?void 0:l.name}),e.jsx(U,{children:e.jsxs(H,{children:[e.jsx(o,{text:"Productos",icon:I,type:"cancel",onClick:()=>i(s.business_id)}),e.jsx(o,{text:"Editar",icon:O,type:"edit",onClick:()=>f(s)}),e.jsx(o,{text:"Borrar",icon:D,type:"delete",onClick:()=>b(s)})]})})]},s.id)}}),e.jsxs(V,{title:d,isOpen:x,onClickCancel:n,onSubmit:y,formRef:j,children:[e.jsx(a,{label:"Nombre",placeholder:"Escriba el nombre de la categoria ",name:"name",required:!0}),e.jsx(a,{label:"Icono",placeholder:"Selecione un icono ",name:"icon",required:!0}),e.jsx(a,{label:"Descripcion",placeholder:"Escriba una descripcion",name:"description",required:!0}),e.jsxs(a,{label:"Negocio",name:"business_id",type:"select",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un Negocio"}),E.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx(_,{isOpen:C,text:"¿Seguro de eliminar este usuario?",onClickDelete:N,onClickCancel:n}),e.jsx(w,{isOpen:m,text:"Procesando tu solicitud..."}),e.jsx(L,{businessId:k,setBusinessId:i})]})}export{oe as default};
