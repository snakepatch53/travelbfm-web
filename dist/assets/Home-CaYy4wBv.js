import{r as i,j as e,P as f,L as n}from"./index-DPwzPAO1.js";import{C as x}from"./CrudBackground-CH5sytJb.js";import{S as m,A as u,E as g,a as j}from"./effect-fade-BkwBmW0y.js";import{g as h}from"./businesses-B-VnBIup.js";import{g as p}from"./products-BI_ipci7.js";function y(){const[a,l]=i.useState(null),[c,r]=i.useState([]);return i.useEffect(()=>{h().then(s=>l(s)),p().then(s=>r(s))},[]),e.jsxs(f,{className:"relative w-full",children:[e.jsx(x,{src:"/image/food4.jpg",withBlur:!1}),e.jsxs("div",{className:"relative z-10 gap-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 p-2",children:[a==null?void 0:a.map(s=>e.jsx("div",{className:"relative w-full h-full",children:e.jsx(w,{to:"/panel/shop/"+s.id,...s,products:c.filter(o=>{var d;return((d=o==null?void 0:o.category)==null?void 0:d.business_id)==s.id})})},s.id)),!a&&e.jsxs(e.Fragment,{children:[e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{})]})]})]})}function w({to:a,products:l,...c}){return e.jsxs(n,{to:a,className:" flex flex-col items-center w-full h-full bg-[--c5-bg]  pb-5 rounded-lg font-content shadow-xl overflow-hidden hover:scale-105",children:[(l==null?void 0:l.length)>=2&&e.jsx(m,{className:"w-full ",modules:[u,g],effect:"fade",autoplay:{delay:3e3},speed:3e3,loop:!0,slidesPerView:1,children:l.map(r=>e.jsx(j,{className:"relative w-full h-full",children:e.jsx("img",{src:r.photo_url,className:" w-full aspect-video object-cover "})},r.id))}),l.length==1&&e.jsx("img",{src:l[0].photo_url,className:" w-full aspect-video object-cover "}),l.length==0&&e.jsx("img",{src:"/image/food2.jpg",className:" w-full aspect-video object-cover "}),e.jsxs("div",{className:"flex flex-row w-full p-2 items-start  gap-5 ",children:[e.jsx("img",{src:c.logo_url,className:"max-w-10 rounded-full aspect-square "}),e.jsxs("div",{className:"flex flex-col w-full h-full",children:[e.jsx("h3",{className:"font-link text-xl text-[--c1-txt]",children:c.name}),e.jsx("span",{className:"font-content text-xs opacity-60 text-[--c1-txt]",children:c.description})]})]})]})}function t(){return e.jsxs("div",{className:"flex flex-col items-center w-full h-full bg-[--c5-bg] p-2 rounded-lg animate-pulse",children:[e.jsx("div",{className:"w-full aspect-video object-cover bg-black/20 rounded-md"}),e.jsxs("div",{className:"flex flex-row w-full p-2 items-start gap-5 ",children:[e.jsx("div",{className:"w-11 rounded-full aspect-square bg-black/20"}),e.jsxs("div",{className:"flex flex-col w-full h-full gap-2",children:[e.jsx("div",{className:"block w-1/2 h-5 rounded-full bg-black/20"}),e.jsx("div",{className:"block w-2/2 h-3 rounded-full bg-black/20"})]})]})]})}export{y as default};
