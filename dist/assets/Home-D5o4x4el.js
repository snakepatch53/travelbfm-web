import{r as d,I as f,k as n,j as e,P as h,C as p,L as j,c as m}from"./index-CBsv0i6a.js";import{S as u,A as g,E as v,a as w}from"./effect-fade-B9bHTJED.js";function S(){const{businesses:l,products:a}=d.useContext(f),[s,x]=d.useState(null);return d.useEffect(()=>{if(l){const o=l.sort((t,i)=>n(i)-n(t)).map(t=>({...t,open:n(t)}));x(o)}},[l]),e.jsxs(h,{className:"relative w-full",children:[e.jsx(p,{src:"/image/food4.jpg",withBlur:!1}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-5",children:[e.jsx(N,{text:"Locales disponibles "}),e.jsxs("div",{className:"gap-5 grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 p-2",children:[s==null?void 0:s.map(r=>e.jsx("div",{className:"relative w-full h-full",children:e.jsx(y,{to:"/panel/shop/"+r.id,...r,products:a.filter(o=>{var t;return((t=o==null?void 0:o.category)==null?void 0:t.business_id)==r.id})})},r.id)),!s&&e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsx(c,{}),e.jsx(c,{}),e.jsx(c,{}),e.jsx(c,{}),e.jsx(c,{})]})]})]})]})}function N({text:l}){return e.jsx("h3",{className:"font-title2 text-6xl text-white text-center select-text mt-5",style:{textShadow:"1px 0 1px var(--c6-bg), -1px 0 1px var(--c6-bg), 0 1px 1px var(--c6-bg), 0 -1px 1px var(--c6-bg)"},children:l})}function y({to:l,products:a,...s}){return e.jsxs(j,{to:s.open?l:"",className:"flex flex-col items-center w-full h-full bg-[--c5-bg]  pb-2 rounded-lg font-content shadow-xl overflow-hidden hover:scale-105",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(_,{business:s}),(a==null?void 0:a.length)>=2&&e.jsx(u,{className:"w-full ",modules:[g,v],effect:"fade",autoplay:{delay:3e3},speed:3e3,loop:!0,slidesPerView:1,children:a.map(x=>e.jsx(w,{className:"relative w-full h-full",children:e.jsx("img",{src:x.photo_url,className:" w-full aspect-video object-cover "})},x.id))}),a.length==1&&e.jsx("img",{src:a[0].photo_url,className:" w-full aspect-video object-cover "}),a.length==0&&e.jsx("img",{src:"/image/food2.jpg",className:" w-full aspect-video object-cover "})]}),e.jsxs("div",{className:"flex flex-row w-full px-2 pt-2 items-start  gap-5 ",children:[e.jsx("img",{src:s.logo_url,className:"max-w-10 rounded-full aspect-square "}),e.jsxs("div",{className:"flex flex-col w-full h-full",children:[e.jsx("h3",{className:"font-link text-xl text-[--c1-txt]",children:s.name}),e.jsx("span",{className:"max-h-10 min-h-10 h-full font-content text-xs opacity-60 text-[--c1-txt] overflow-hidden text-pretty select-text",children:s.description})]})]}),e.jsxs("h4",{className:m("font-link",{"text-green-500":s.open,"text-red-500":!s.open}),children:[s.open?"Abierto":"Cerrado"," "]})]})}function c(){return e.jsxs("div",{className:"flex flex-col items-center w-full h-full bg-[--c5-bg] p-2 rounded-lg animate-pulse",children:[e.jsx("div",{className:"w-full aspect-video object-cover bg-black/20 rounded-md"}),e.jsxs("div",{className:"flex flex-row w-full p-2 items-start gap-5 ",children:[e.jsx("div",{className:"w-11 rounded-full aspect-square bg-black/20"}),e.jsxs("div",{className:"flex flex-col w-full h-full gap-2",children:[e.jsx("div",{className:"block w-1/2 h-5 rounded-full bg-black/20"}),e.jsx("div",{className:"block w-2/2 h-3 rounded-full bg-black/20"})]})]})]})}function _({business:l}){return e.jsx(e.Fragment,{children:!l.open&&e.jsx("div",{className:"absolute inset-0 z-10 bg-black/80 flex flex-col justify-center items-center text-white overflow-hidden",style:{textShadow:"1px 0 1px #000, -1px 0 1px #000, 0 1px 1px #000, 0 -1px 1px #000"},children:e.jsxs("ul",{className:"opacity-70 select-text",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Lunes: "})," ",l.monday_open," - ",l.monday_close]}),e.jsxs("li",{children:[e.jsx("b",{children:"Martes: "})," ",l.tuesday_open," - ",l.tuesday_close]}),e.jsxs("li",{children:[e.jsx("b",{children:"Miercoles: "})," ",l.wednesday_open," -"," ",l.wednesday_close]}),e.jsxs("li",{children:[e.jsx("b",{children:"Jueves: "})," ",l.thursday_open," - ",l.thursday_close]}),e.jsxs("li",{children:[e.jsx("b",{children:"Viernes: "})," ",l.friday_open," - ",l.friday_close]}),e.jsxs("li",{children:[e.jsx("b",{children:"Sabado: "})," ",l.saturday_open," - ",l.saturday_close]}),e.jsxs("li",{children:[e.jsx("b",{children:"Domingo: "})," ",l.sunday_open," - ",l.sunday_close]})]})})})}export{S as default};
